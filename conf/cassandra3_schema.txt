/* all keyspaces are created using the ByteOrderPreservingPartitioner see the cassandra.yaml file */
CREATE KEYSPACE occ WITH REPLICATION = { 'class' : 'SimpleStrategy', 'replication_factor' : 1 };

use occ;

CREATE TABLE occ_uuid (
  rowkey varchar,
  value varchar,
  PRIMARY KEY (rowkey)
);

DROP TABLE occ;

CREATE TABLE occ (
rowkey varchar,
uuid varchar,
occurrenceID varchar,
abcdIdentificationQualifier_p varchar,
acceptedNameUsage varchar,
acceptedNameUsageID varchar,
accessrights varchar,
associatedMedia varchar,
associatedOccurrences varchar,
associatedReferences varchar,
associatedSequences varchar,
associatedTaxa varchar,
attr_qa varchar,
australianHerbariumRegion varchar,
basisOfRecord varchar,
basisOfRecord_p varchar,
bbox varchar,
bbox_p varchar,
behavior varchar,
bibliographicCitation varchar,
biome varchar,
biome_p varchar,
bioOrder varchar,
bor_qa varchar,
catalogNumber varchar,
citation varchar,
class_qa varchar,
classID varchar,
classid_p varchar,
classs varchar,
classs_p varchar,
collectionCode varchar,
collectionID varchar,
collectionName varchar,
collectionUid varchar,,
collectorFieldNumber varchar,
continent varchar,
coordinatePrecision varchar,
coordinateUncertaintyInMeters varchar,
coordinateUncertaintyInMeters_p varchar,
country varchar,
country_p varchar,
countryCode varchar,
countryCode_p varchar,
countryConservation varchar,
county varchar,
cultivarName varchar,
cultivated varchar,
dataGeneralizations varchar,
dataHubName varchar,
dataHubUid varchar,
dataProviderName varchar,
dataprovidername_p varchar,
dataProviderUid varchar,
dataProviderUid_p  varchar,
dataResourceName varchar,
dataResourceName_p varchar,
dataResourceUid varchar,
datasetID varchar,
datasetName varchar,
day varchar,
day_p varchar,
decimalLatitude varchar,
decimalLatitude_p varchar,
decimalLongitude varchar,
decimalLongitude_p varchar,
default_qa varchar,
defaultValuesUsed varchar,
disposition varchar,
distanceOutsideExpertRange varchar,
duplicates varchar,
duplicatesOriginalInstitutionID varchar,
duplicatesOriginalUnitID varchar,
duplicationStatus varchar,
duplicationType varchar,
dynamicProperties varchar,
easting varchar,
easting_p varchar,
endDayOfYear varchar,
endYear varchar,
establishmentMeans varchar,
event_qa varchar,
eventAttributes varchar,
eventDate varchar,
eventDate_p varchar,
eventDateEnd varchar,
eventID varchar,
eventRemarks varchar,
eventTime varchar,
family varchar,
family_p varchar,
familyID varchar,
familyID_p varchar,
fieldNotes varchar,
fieldNumber varchar,
firstLoaded varchar,
footprintSpatialFit varchar,
footprintSRS varchar,
footprintWKT varchar,
generalisedLocality varchar,
genus varchar,
genus_p varchar,
genusID varchar,
genusID_p varchar,
geodeticDatum varchar,
geodeticDatum_p varchar,
georeferencedBy varchar,
georeferencedDate varchar,
georeferenceProtocol varchar,
georeferenceRemarks varchar,
georeferenceSources varchar,
georeferenceVerificationStatus varchar,
geospatiallyKosher varchar,
globalConservation varchar,
gridReference varchar,
habitat varchar,
higherClassification varchar,
higherGeography varchar,
higherGeographyID varchar,
identificationQualifier_p varchar,
IdentificationQualifierProcessor_qa varchar,
identifiedby varchar,
identifier varchar,
image_qa varchar,
images varchar,
images_p varchar,
individualCount varchar,
individualID varchar,
informationWithheld varchar,
infraspecificEpithet varchar,
infraspecificMarker varchar,
institutionCode varchar,
institutionID varchar,
institutionName varchar,
institutionUid varchar,
interactions varchar,
island varchar,
islandGroup varchar,
kingdom varchar,
kingdom_p varchar,
kingdomID varchar,
kingdomID_p varchar,
language varchar,
lastModifiedTime varchar,
lastModifiedTime_p varchar,
left varchar,
left_p varchar,
lga varchar,
lga_p varchar,
license varchar,
lifeStage varchar,
loanDate varchar,
loanDestination varchar,
loanForBotanist varchar,
loanIdentifier varchar,
loanReturnDate varchar,
loanSequenceNumber varchar,
loc_qa varchar,
locality varchar,
locationAccordingTo varchar,
locationAttributes varchar,
locationDetermined varchar,
locationID varchar,
locationRemarks varchar,
maximumDepthInMeters varchar,
maximumDistanceAboveSurfaceInMeters varchar,
maximumElevationInMeters varchar,
measurementAccuracy varchar,
measurementDeterminedBy varchar,
measurementDeterminedDate varchar,
measurementID varchar,
measurementMethod varchar,
measurementRemarks varchar,
measurementType varchar,
measurementUnit varchar,
measurementValue varchar,
minimumDepthInMeters varchar,
minimumDistanceAboveSurfaceInMeters varchar,
minimumElevationInMeters varchar,
miscProperties varchar,
modified varchar,
month varchar,
month_p varchar,
municipality varchar,
nameAccordingTo varchar,
nameAccordingToID varchar,
nameMatchMetric varchar,
nameMatchMetric_p varchar,
nameParseType varchar,
nameParseType_p varchar,
namePublishedIn varchar,
namePublishedInID varchar,
namePublishedInYear varchar,
naturalOccurrence varchar,
nearNamedPlaceRelationTo varchar,
nomenclaturalCode varchar,
nomenclaturalStatus varchar,
northing varchar,
northing_p varchar,
occurrenceAttributes varchar,
occurrenceDetails varchar,
occurrenceRemarks varchar,
occurrenceStatus varchar,
occurrenceStatus_p varchar,
offline_qa varchar,
order_p varchar,
orderID varchar,
orderID_p varchar,
originalNameUsage varchar,
originalNameUsageID varchar,
originalSensitiveValues varchar,
otherCatalogNumbers varchar,
outlierForLayers varchar,
ownerInstitutionCode varchar,
parentNameUsage varchar,
parentNameUsageID varchar,
phenology varchar,
photographer varchar,
phylum varchar,
phylum_p varchar,
phylumID varchar,
phylumID_p varchar,
pointRadiusSpatialFit varchar,
preferredFlag varchar,
preparations varchar,
previousIdentifications varchar,
provenance varchar,
qualityassertion varchar,
recordedBy varchar,
recordedby_p varchar,
recordNumber varchar,
relatedResourceID varchar,
relationshipAccordingTo varchar,
relationshipEstablishedDate varchar,
relationshipOfResource varchar,
relationshipRemarks varchar,
reproductiveCondition varchar,
resourceID varchar,
resourceRelationshipID varchar,
right varchar,
right_p varchar,
rights varchar,
rightsholder varchar,
samplingEffort varchar,
samplingProtocol varchar,
scientificName varchar,
scientificName_p varchar,
scientificNameAddendum varchar,
scientificNameAuthorship varchar,
scientificNameID varchar,
scientificNameWithoutAuthor varchar,
secondaryCollectors varchar,
sex varchar,
sounds varchar,
source varchar,
species varchar,
species_p varchar,
speciesGroups varchar,
speciesHabitats varchar,
speciesID varchar,
speciesID_p varchar,
specificEpithet varchar,
startDayOfYear varchar,
startYear varchar,
stateConservation varchar,
stateProvince varchar,
stateprovince_p varchar,
subfamily varchar,
subgenus varchar,
subgenusID varchar,
subspecies varchar,
subspeciesID varchar,
superfamily varchar,
taxonConceptID varchar,
taxonConceptID_p varchar,
taxonID varchar,
taxonomicallyKosher varchar,
taxonomicIssue varchar,
taxonomicIssue_p varchar,
taxonomicStatus varchar,
taxonRank varchar,
taxonRank_p varchar,
taxonRankID varchar,
taxonRankID_p varchar,
taxonRemarks varchar,
type_qa varchar,
userId varchar,
validDistribution varchar,
verbatimCoordinates varchar,
verbatimCoordinateSystem varchar,
verbatimDepth varchar,
verbatimElevation varchar,
verbatimEventDate varchar,
verbatimLatitude varchar,
verbatimLocality varchar,
verbatimLongitude varchar,
verbatimSRS varchar,
verbatimTaxonRank varchar,
vernacularName varchar,
vernacularName_p varchar,
videos varchar,
waterBody varchar,
year varchar,
year_p varchar,
zone varchar,
  PRIMARY KEY (rowkey)
);
CREATE INDEX occ_uuid ON occ.occ (uuid);
CREATE INDEX occ_data_resource_uuid ON occ.occ (dataResourceUID);

/* TODO replace with JSON blob for CL and EL or have biocache logic to expand this table definition based on changes in layers service */
CREATE TABLE loc (
  rowkey varchar,
  lat varchar,
  lon varchar,
cl1083 varchar,
cl1 varchar,
cl2 varchar,
cl3 varchar,
cl4 varchar,
cl6 varchar,
cl7 varchar,
cl8 varchar,
cl9 varchar,
cl10 varchar,
cl11 varchar,
cl12 varchar,
cl13 varchar,
cl5 varchar,
cl14 varchar,
cl15 varchar,
cl16 varchar,
cl17 varchar,
cl27 varchar,
cl25 varchar,
cl26 varchar,
cl20 varchar,
cl18 varchar,
cl21 varchar,
cl19 varchar,
cl24 varchar,
cl1001 varchar,
cl1000 varchar,
cl23 varchar,
 PRIMARY KEY (rowkey)
);

CREATE TABLE qa (
  rowkey varchar,
  code varchar,
  comment varchar,
  created varchar,
  name varchar,
  qaStatus varchar,
  snapshot varchar,
  userDisplayName varchar,
  userId varchar,
  uuid varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE taxon (
  rowkey varchar,
  commonName varchar,
  habitats varchar,
  conservation varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE attr (
  rowkey varchar,
  dataProviderUid varchar,
  dataProviderName varchar,
  dataResourceUid varchar,
  dataResourceName varchar,
  collectionUid varchar,
  institutionUid varchar,
  dataHubUid varchar,
  dataHubName varchar,
  institutionName varchar,
  collectionName varchar,
  citation varchar,
  provenance varchar,
  taxonomicHints varchar,
  defaultDwcValues varchar,
  PRIMARY KEY (rowkey)
);

/* TODO map these column families from existing cassandra 1.x schema */

CREATE TABLE qa (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE dellog (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE duplicates (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE occ_duplicates (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE upload (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE outliers (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE occ_outliers (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE occ_outliers (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE queryassert (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);
CREATE INDEX queryassert_uuid ON occ.queryassert (uuid);

CREATE TABLE distribution_outliers (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);

CREATE TABLE qid (
  rowkey varchar,
  PRIMARY KEY (rowkey)
);
